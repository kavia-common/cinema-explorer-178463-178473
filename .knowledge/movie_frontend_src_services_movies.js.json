{"is_source_file": true, "format": "JavaScript", "description": "This file provides CRUD helper functions for interacting with a 'movies' table in a Supabase database. It includes functions to list, add, delete, and update movies, along with internal error handling. It is part of a frontend service layer, likely used in a web application to manage movie data.", "external_files": ["../lib/supabaseClient"], "external_methods": ["supabaseClient", "getSupabaseClient"], "published": ["listMovies", "addMovie", "deleteMovie", "updateMovie"], "classes": [], "methods": [{"name": "listMovies()", "description": "Fetches all movies from the 'movies' table, ordered by creation date descending.", "scope": "", "scopeKind": ""}, {"name": "addMovie(movie)", "description": "Inserts a new movie record into the 'movies' table with provided details.", "scope": "", "scopeKind": ""}, {"name": "deleteMovie(id)", "description": "Deletes a movie record identified by its UUID.", "scope": "", "scopeKind": ""}, {"name": "updateMovie(id, updates)", "description": "Updates specific fields of a movie record identified by its UUID.", "scope": "", "scopeKind": ""}], "calls": ["supabase.from('movies').select(...)", "supabase.from('movies').insert(...)", "supabase.from('movies').delete()", "supabase.from('movies').update(...)"], "search-terms": ["movies.js", "CRUD", "Supabase", "listMovies", "addMovie", "deleteMovie", "updateMovie", "movies table"], "state": 2, "file_id": 20, "knowledge_revision": 74, "git_revision": "98985bda1b2aab39dccf10a15bd1be9264d657a4", "revision_history": [{"46": ""}, {"74": "98985bda1b2aab39dccf10a15bd1be9264d657a4"}], "ctags": [{"_type": "tag", "name": "addMovie", "path": "/home/kavia/workspace/code-generation/cinema-explorer-178463-178473/movie_frontend/src/services/movies.js", "pattern": "/^ export async function addMovie(movie) {$/", "language": "JavaScript", "kind": "function", "signature": "(movie)"}, {"_type": "tag", "name": "deleteMovie", "path": "/home/kavia/workspace/code-generation/cinema-explorer-178463-178473/movie_frontend/src/services/movies.js", "pattern": "/^ export async function deleteMovie(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "listMovies", "path": "/home/kavia/workspace/code-generation/cinema-explorer-178463-178473/movie_frontend/src/services/movies.js", "pattern": "/^ export async function listMovies() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "lower", "path": "/home/kavia/workspace/code-generation/cinema-explorer-178463-178473/movie_frontend/src/services/movies.js", "pattern": "/^   const lower = raw.toLowerCase();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "normalizeError", "path": "/home/kavia/workspace/code-generation/cinema-explorer-178463-178473/movie_frontend/src/services/movies.js", "pattern": "/^ const normalizeError = (error) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "overview", "path": "/home/kavia/workspace/code-generation/cinema-explorer-178463-178473/movie_frontend/src/services/movies.js", "pattern": "/^       overview: movie.overview ?? null,$/", "language": "JavaScript", "kind": "property", "scope": "addMovie.payload", "scopeKind": "class"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/cinema-explorer-178463-178473/movie_frontend/src/services/movies.js", "pattern": "/^     const payload = {$/", "language": "JavaScript", "kind": "class", "scope": "addMovie", "scopeKind": "class"}, {"_type": "tag", "name": "poster_url", "path": "/home/kavia/workspace/code-generation/cinema-explorer-178463-178473/movie_frontend/src/services/movies.js", "pattern": "/^       poster_url: movie.poster_url ?? null,$/", "language": "JavaScript", "kind": "property", "scope": "addMovie.payload", "scopeKind": "class"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/cinema-explorer-178463-178473/movie_frontend/src/services/movies.js", "pattern": "/^   const raw = String(error?.message || error || 'Unexpected error');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "sanitizeErrorMessage", "path": "/home/kavia/workspace/code-generation/cinema-explorer-178463-178473/movie_frontend/src/services/movies.js", "pattern": "/^ const sanitizeErrorMessage = (error) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "supabase", "path": "/home/kavia/workspace/code-generation/cinema-explorer-178463-178473/movie_frontend/src/services/movies.js", "pattern": "/^ const supabase = supabaseClient || getSupabaseClient();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/cinema-explorer-178463-178473/movie_frontend/src/services/movies.js", "pattern": "/^       title: movie.title,$/", "language": "JavaScript", "kind": "property", "scope": "addMovie.payload", "scopeKind": "class"}, {"_type": "tag", "name": "updateMovie", "path": "/home/kavia/workspace/code-generation/cinema-explorer-178463-178473/movie_frontend/src/services/movies.js", "pattern": "/^ export async function updateMovie(id, updates) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, updates)"}], "hash": "143a86a20fd43e6f0e23e70666659a9a", "format-version": 4, "code-base-name": "movie_frontend", "filename": "movie_frontend/src/services/movies.js", "fields": [{"name": "overview: movie.overview ?? null,", "scope": "addMovie.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "poster_url: movie.poster_url ?? null,", "scope": "addMovie.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "title: movie.title,", "scope": "addMovie.payload", "scopeKind": "class", "description": "unavailable"}]}